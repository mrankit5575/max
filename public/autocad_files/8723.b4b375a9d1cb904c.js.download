!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="360f60a2-9afa-4c1c-9b3a-24619d24d2af",e._sentryDebugIdIdentifier="sentry-dbid-360f60a2-9afa-4c1c-9b3a-24619d24d2af")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8723],{82520:function(e,t,a){a.d(t,{Ef:function(){return s},Ni:function(){return r},lY:function(){return o},lg:function(){return i}}),a(98373),a(94498),a(31175);var n=a(22319),r=(0,n.c)({defaultClassName:"_1e09mfn6 $flex $justify-center $items-center $bg-surface-2 hover:$bg-surface-3 $rounded-[8px] $w-[35px] $h-[35px] $text-surface-foreground-2 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $cursor-pointer",variantClassNames:{isDownloading:{true:"$pointer-events-none $cursor-not-allowed"}},defaultVariants:{isDownloading:!1},compoundVariants:[]}),o="_1a81dk55",i="_1e09mfn5 $absolute $top-[10px] $right-[10px] $flex $flex-col $gap-[10px] $opacity-[0] $transition-all",s=(0,n.c)({defaultClassName:"_1e09mfn1 _1e09mfn0 _1wc8gem5 $relative $bg-black/10 $overflow-hidden $rounded-[4px] $[contain:strict]",variantClassNames:{orientation:{vertical:"$aspect-[9/16]",horizontal:"$aspect-video",square:"$aspect-square"}},defaultVariants:{orientation:"horizontal"},compoundVariants:[]})},63800:function(e,t,a){a.r(t),a.d(t,{DownloadVideoButton:function(){return j}});var n=a(97458),r=a(32207),o=a(50273),i=a(66497),s=a(13061),l=a(97137),u=a(71163),d=a(82520),c=a(37904),m=a(48998),f=a(55979),p=a(79161),h=a(52983),v=a(34541),w=a(66848),$=a(48493),x=a(74910),b=a(156),y=a(70800),_=a(57516),g=a(26985);let N=e=>{let{resourceId:t,premium:a,quality:n,authorName:r,orientation:o,poster:i,name:s,trackActivated:l}=e,u=(0,m.e)(),[d,N]=(0,h.useState)(!1),j=(0,p.V)(),{isUserWinback:C,showWinbackModal:I}=(0,f.l)(),R=(0,g.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:i,resourceName:s}),T=(0,y.mS)(),D=(0,$.TH)({action:"download",location:"thumbnail",file_id:t,license:a?"premium":"free",resolution:n,author_name:r,category:"video",aspect_ratio:o}),k=(0,c.Lh)(),E=(0,w.W)(t,"video","resource_thumbnail"),{showAttribution:O}=(0,v.J)(),A=(0,x.R)()({authorName:r,isAIGenerated:!1,type:"video",isPremium:a,eventName:"download__thumbnail"}),P=(0,h.useCallback)(()=>{T({resourceId:t,isResourcePremium:a,resourceType:"video",downloadType:"download"})},[T,t,a]);return{download:(0,h.useCallback)(async()=>{if(a&&!u){E({origin:"resource_thumbnail",resourceData:{name:s,resourceType:"video",mediaUrl:i},checkoutQueryParams:A,onButtonClick:P});return}if(C){I();return}N(!0);let e=await (0,_.S)({videoId:t,orientation:o,walletId:k});if(e.success){j(e.data.url,e.data.filename);let n=(0,b.z)(e.data.filename);l&&(T({resourceId:t,isResourcePremium:a||!1,resourceType:"video"}),D({fileExtension:n})),O()}else R(e,A);N(!1)},[a,u,C,t,o,k,E,s,i,A,P,I,j,l,O,T,D,R]),isDownloading:d,userPremium:u}},j=e=>{let{resourceId:t,quality:a,premium:c,authorName:m,orientation:f,trackActivated:p=!0,name:h,poster:v}=e,{t:w}=(0,u.$G)("detailCommon"),{download:$,isDownloading:x}=N({resourceId:t,quality:a,premium:c,authorName:m,orientation:f,trackActivated:p,name:h,poster:v});return(0,n.jsx)(r.u,{trigger:(0,n.jsxs)("a",{className:d.Ni({isDownloading:x}),onClick:()=>{x||$()},role:"link","data-cy":"download-thumbnail",children:[(0,n.jsx)(i.T,{children:w("download")}),x?(0,n.jsx)(o.J,{as:l.Z,size:"sm",className:d.lY}):(0,n.jsx)(o.J,{as:s.Z,size:"base"})]}),side:"left",children:(0,n.jsx)("span",{className:"$capitalize",children:w("download")})})}},76359:function(e,t,a){a.d(t,{Q:function(){return l}});var n=a(97458),r=a(18873),o=a(34541),i=a(63800),s=a(82520);let l=e=>{let{id:t,poster:a,location:l,author:u,premium:d,quality:c,orientation:m,name:f}=e,{attributionEnabled:p}=(0,o.J)();return p?null:(0,n.jsxs)("aside",{className:s.lg,children:[(0,n.jsx)(i.DownloadVideoButton,{resourceId:t,authorName:u.name,premium:d,quality:c,orientation:m,name:f,poster:a}),"thumbnail"===l&&(0,n.jsx)(r.AddToCollection,{type:"video",id:t,preview:a,location:l,tooltipProps:{side:"left"}})]})}},89342:function(e,t,a){a.d(t,{A:function(){return l}});var n=a(97458),r=a(8305),o=a.n(r),i=a(83648),s=a(34541);let l=e=>{let{children:t,as:a,onHandleClick:r,name:l}=e,{attributionEnabled:u}=(0,s.J)(),d=(0,i.useRouter)(),c="$block $h-full $w-full";return u?(0,n.jsx)("div",{className:c,children:t}):(0,n.jsx)(o(),{href:{pathname:d.pathname,query:d.query},as:a,className:c,shallow:!0,scroll:!1,onClick:r,"aria-label":l,prefetch:!1,children:t})}},65215:function(e,t,a){a.d(t,{Q:function(){return f}});var n=a(97458),r=a(45123),o=a(48998),i=a(50273),s=a(66497),l=a(6414),u=a(18580),d=a(63137),c=a(36865),m=a(74910);a(59751);let f=e=>{let{id:t,name:a,poster:f,authorName:p}=e,h=(0,r._)(),v=(0,o.e)(),w=(0,m.R)()({type:"video",authorName:p,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});w.append("origin","".concat(c.Ej,"_premium_video"));let $=v?(0,n.jsx)(d.s,{}):(0,n.jsx)(u.w,{resource:{id:t,name:a,mediaUrl:f,resourceType:"video"},urlParams:new URLSearchParams(w),category:"video"});return(0,n.jsxs)("span",{className:"_14qkqd50 $absolute $top-10 $left-10 $bg-grayEbony/70 $flex $justify-center $items-center $rounded-md","data-cy":"premium-resource-crown",children:[(0,n.jsx)(s.T,{children:"Premium"}),h?$:(0,n.jsx)(i.J,{as:l.Z,size:"sm",className:"$text-yellowPremium"})]})}},68993:function(e,t,a){a.d(t,{n:function(){return d}});var n=a(97458),r=a(16830),o=a.n(r),i=a(34541),s=a(45466),l=a(80060);let u=o()(()=>a.e(9134).then(a.bind(a,69134)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[69134]},ssr:!1}),d=e=>{let{author:t,id:a,name:r,position:o,premium:d,videoSrc:c,duration:m,enableGaTracker:f,isInViewport:p,posterSrc:h,videoUrl:v}=e,{attributionEnabled:w}=(0,i.J)();if(w){var $,x;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("video",{width:480,height:270,className:l.R,preload:"metadata",autoPlay:!1,poster:h,muted:!0,playsInline:!0,loop:!0,children:p&&(0,n.jsx)("source",{"data-src":c,type:"video/mp4"})}),(0,n.jsx)(u,{authorId:null!==($=null==t?void 0:t.id)&&void 0!==$?$:0,authorName:null!==(x=null==t?void 0:t.name)&&void 0!==x?x:"",resourceUrl:v,resourceId:a,resourceName:r,mediaUrl:h,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:d,resourceType:"video"})]})}return(0,n.jsx)(s.VideoContentComponent,{poster:h,videoSrc:c,duration:m,name:r,author:t,isInViewport:p,id:a,premium:d,position:o,enableGaTracker:f})}},34936:function(e,t,a){a.d(t,{v:function(){return u}});var n=a(97458),r=a(57291),o=a(65067),i=a(93963),s=a(8692),l=a(58284);let u=e=>{let{id:t,name:a,poster:u,containerRef:d}=e,{width:c}=(0,i.n)(d),m=!!(c&&c>=o.CC);return(0,n.jsx)(s.B,{buttonClassName:(0,r.cx)("[article:hover_&]:$opacity-100 $flex $text-white $gap-5 $items-center $sprinkles-text-sm $font-semibold $absolute $bottom-10 $left-10 $opacity-0 $transition-opacity",l.p,m?"$px-15 $py-0":"$px-[8px]"),id:t,name:null!=a?a:"",preview:{width:0,height:0,url:null!=u?u:""},type:"video",inThumbnail:!0,showLabel:m})}},57516:function(e,t,a){a.d(t,{S:function(){return n}});let n=async e=>{let{videoId:t,orientation:a,walletId:n,optionId:r,action:o}=e,i=new URLSearchParams;a&&i.set("orientation",a),n&&i.set("walletId",n),r&&i.set("optionId",r.toString()),o&&i.set("action",o);let s=await fetch("/api/video/".concat(t,"/download?").concat(i.toString()));return s.ok?{success:!0,data:await s.json()}:429===s.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===s.status?{success:!1,data:"FORBIDDEN"}:401===s.status||405===s.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===s.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},26985:function(e,t,a){a.d(t,{G:function(){return l}});var n=a(52404),r=a(83648),o=a(71163),i=a(52983),s=a(66848);let l=e=>{let{resourceId:t,location:a,origin:l,limitModalMediaUrl:u,resourceName:d}=e,{openToast:c}=(0,n.x_)(),{t:m}=(0,o.$G)("error"),{push:f}=(0,r.useRouter)(),p=(0,s.W)(t,l,a);return(0,i.useCallback)((e,t)=>{let a={DOWNLOAD_LIMIT_REACHED:()=>{p({origin:l,resourceData:{name:d,resourceType:"video",mediaUrl:u},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{f("/oauth-logout")},NOT_FOUND:()=>{c({message:m("notFound")})},UNKNOWN_ERROR:()=>{c({message:m("unknown")})}};if("string"==typeof e.data&&e.data in a)return a[e.data]()},[p,l,d,u,f,c,m])}},41292:function(e,t,a){a.d(t,{l:function(){return l}});var n=a(50795),r=a(99523),o=a(83648),i=a(52983),s=a(90405);let l=e=>{let{id:t,url:a,related:l,nativeAspectRatio:u,track:d,uuid:c,fromElement:m}=e,{query:{aspect_ratio:f}}=(0,o.useRouter)(),p=(0,i.useCallback)(e=>{if(null==e?void 0:e.toString()){let t=(0,n.X)(e),o=t===r._y?"":t;return"".concat(a,"/").concat(o)}return a},[a]),h=(0,i.useMemo)(()=>l?p():f&&f!==u?p(f):p(),[l,f,p,u]);return(0,s.f)(t,h,{...m&&{fromElement:m},track:d,...c&&{uuid:c}})}},73055:function(e,t,a){a.d(t,{Ch:function(){return $},bd:function(){return f},Ft:function(){return h}});var n=a(71409),r=a(7616),o=a(52983),i=a(43439),s=a(67755),l=a(12297),u=a(24399),d=a(73139);let c=(0,d.xu)(e=>{let{locale:t,id:a}=e;return(0,d.n7)((0,u.cn)(async()=>{if(null===a)return null;let e=await fetch("/api/video?id=".concat(a,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(a));return await e.json()}))},l.vZ),m=()=>{let e=(0,n.ZK)(),t=(0,r.Dv)(s.D),a=(0,r.Dv)(c({locale:e,id:t}));return"hasData"===a.state?a.data:null},f=()=>{let e=(0,i.yd)(),t=m();return(0,o.useMemo)(()=>[null===t,null!=t?t:e],[e,t])},p=(0,o.createContext)([]),h=()=>(0,o.useContext)(p);var v=a(97458),w=a(68475);let $=e=>{let{videos:t,children:a,...n}=e;return(0,v.jsx)(p.Provider,{value:t,children:(0,v.jsx)(w.b,{...n,items:t,children:a})})}},97137:function(e,t,a){var n=a(97458);t.Z=e=>(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,n.jsx)("path",{d:"M269.2 438.4c-100.6 0-182.4-81.8-182.4-182.4S168.6 73.6 269.2 73.6c61.1 0 117.9 30.4 151.8 81.3 7.7 11.5 4.6 27-6.9 34.7s-27 4.6-34.7-6.9c-24.6-37-65.9-59.1-110.2-59.1-73 0-132.4 59.4-132.4 132.4s59.4 132.4 132.4 132.4c44.4 0 85.6-22.1 110.2-59.1 7.7-11.5 23.2-14.6 34.7-6.9s14.6 23.2 6.9 34.7c-33.9 50.9-90.7 81.3-151.8 81.3"})})}}]);